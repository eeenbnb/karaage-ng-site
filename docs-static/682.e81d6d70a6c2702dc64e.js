(self.webpackChunkkaraage_ng_site=self.webpackChunkkaraage_ng_site||[]).push([[682],{5682:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ArticleModule:()=>w});var r=i(98),a=i(118),s=i(8071),n=i(115),o=i(8348),c=i(749),l=i(3161),h=i(1481),p=i(3262);let d=(()=>{class t{constructor(t,e){this.httpService=t,this.transferStateService=e}getArticleData(t){if(!t)return(0,l.of)("");let e=t.split("-");return 3!=e.length?(0,l.of)(""):this.transferStateService.useScullyTransferState(t,this.httpService.getURLDataToResponseTypeText(`assets/md-article/${e[0]}/${e[1]}/${e[2]}.md`))}getFeatureData(t){return t?this.transferStateService.useScullyTransferState(t,this.httpService.getURLDataToResponseTypeText(`assets/md-feature/${t}.md`)):(0,l.of)("")}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(h.O),o.LFG(p.in))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i(8563),m=i(165),g=i(2501);let f=(()=>{class t{constructor(){this.markdown=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["item-article"]],inputs:{markdown:"markdown"},decls:2,vars:1,consts:[[1,"item-article","markdown-body"],[3,"data"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"markdown",1),o.qZA()),2&t&&(o.xp6(1),o.Q6J("data",e.markdown))},directives:[g.lF],styles:['@charset "UTF-8";.info{display:flex}.info__date{color:var(--color-Stroke);font-size:14px;margin-right:4px}.info__date:before{content:"\ud83d\udcc5";margin-right:4px}.info__tags{display:flex}.info__tags__one{margin-right:4px;padding-left:4px;padding-right:4px;color:var(--color-Stroke);font-size:14px;border:1px solid var(--color-Headline);border-radius:8px}'],encapsulation:2}),t})();const v=[{path:":date",component:(()=>{class t{constructor(t,e,i,r){this.store=t,this.activatedRoute=e,this.httpArticleService=i,this.titleMetaService=r,this.date="",this.title="",this.markdown="",this.isNoContent=!1,this.articleType=n.I.Article,this.articleType=this.activatedRoute.snapshot.data.articleType,this.routerSubscription=this.activatedRoute.paramMap.subscribe(t=>{t.get("date")?this.getArticleData(t.get("date")||""):this.setError()})}ngOnInit(){}ngOnDestroy(){this.routerSubscription.unsubscribe(),this.titleMetaService.removeMetaData()}getArticleData(t){this.articleType==n.I.Article&&this.getArticleDataByAricle(t),this.articleType==n.I.Feature&&this.getArticleDataByFeaure(t)}getArticleDataByAricle(t){this.httpArticleService.getArticleData(t).subscribe(e=>{this.markdown=e,this.setInfoData(t)},t=>{this.setError()})}getArticleDataByFeaure(t){this.httpArticleService.getFeatureData(t).subscribe(e=>{this.markdown=e,this.setInfoData(t)},t=>{this.setError()})}setInfoData(t){this.title=this.markdown.split("\n")[0].replace("#",""),this.store.dispatch((0,s.p)({breadcrumbs:[{path:[""],name:"top"},{path:[".",this.articleType,t],name:this.title}]})),this.titleMetaService.setTitle(this.title+" | sushi karaage"),this.titleMetaService.setMetaData(this.titleMetaService.getCoalescenceMetaDefinition([{name:"description",content:this.markdown.slice(0,300)},{name:"og:site_name",content:this.title+" | sushi karaage"},{name:"og:description",content:this.markdown.slice(0,300)},{name:"og:title",content:this.title+" | sushi karaage"},{name:"og:url",content:"https://sushi.karaage.tokyo/#/"+[this.articleType,t].join("/")}]))}setError(){this.isNoContent=!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.yh),o.Y36(a.gz),o.Y36(d),o.Y36(u.c))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-article"]],decls:3,vars:1,consts:[[1,"article"],[3,"markdown"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"card-origin"),o._UZ(2,"item-article",1),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.Q6J("markdown",e.markdown))},directives:[m.z,f],styles:[""]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[a.Bz.forChild(v)],a.Bz]}),t})();var y=i(9392);let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.ez,g.JP.forChild()]]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.ez,k,y.J,S]]}),t})()}}]);