{"2021-04-20":"# Node.jsでXMLを生成する\n<div class=\"info\">\n  <p class=\"info__date\">\n    2021/04/20\n  </p>\n  <div class=\"info__tags\">\n    <p class=\"info__tags__one\">Node.js</p>\n  </div>\n</div>\n\n`sitemap.xml` を自動で生成するためにNode.jsで生成する。\n\n## node-xml2js\n\nnode.jsでXMLをパースしたり生成することができるライブラリ。\n```bash\nnpm install xml2js\n```\n\n### 使用例\n`new xml2js.Builder().buildObject(obj)` を使用するとObjectからXMLを生成することができる。\n\n```javascript\nconst xml2js = require('xml2js');\nconst builder = new xml2js.Builder();\n\nconst urls = [\"site1\",\"site2\",\"site3\"];\n\nconst sitemap = {\n  urlset:{\n    $:{\n      \"xmlns\": \"http://www.sitemaps.org/schemas/sitemap/0.9\"\n    },\n    url:[]\n  }\n};\n\nurls.forEach(\n  (v)=>{\n    sitemap.urlset.url.push({\n      loc:v\n    })\n  }\n);\n\n\nvar xml = builder.buildObject(sitemap);\n\nconsole.log(xml);\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n  <url>\n    <loc>site1</loc>\n  </url>\n  <url>\n    <loc>site2</loc>\n  </url>\n  <url>\n    <loc>site3</loc>\n  </url>\n</urlset>\n```\n\n### fileに書き出す\n`const fs = require('fs');` を使用する。\n\n```javascript\nconst xml2js = require('xml2js');\nconst builder = new xml2js.Builder();\nconst obj = {name: \"Super\", Surname: \"Man\", age: 23};\n\nconst xml = builder.buildObject(obj);\n\nfs.writeFileSync(`hoge.xml`,xml,(err)=>{\n  if(err) console.log(err);\n});\n```\n"}