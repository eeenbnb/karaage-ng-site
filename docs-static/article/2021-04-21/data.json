{"2021-04-21":"# AngularでタイトルとMetaデータを更新する。\n<div class=\"info\">\n  <p class=\"info__date\">\n    2021/04/21\n  </p>\n  <div class=\"info__tags\">\n    <p class=\"info__tags__one\">Angular</p>\n  </div>\n</div>\n\n## Title\n`@angular/platform-browser` の `title` を使用する  \nhttps://angular.io/api/platform-browser/Title\n\n\n## Meta\n`@angular/platform-browser` の `meta` を使用する\nhttps://angular.jp/api/platform-browser/Meta\n\n\n## コード\nservice\n```javaScript\nimport { Injectable } from '@angular/core';\nimport { Title, Meta, MetaDefinition } from '@angular/platform-browser';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TitleMetaService {\n  defaultMetaDefinition:MetaDefinition[] = [\n    { name: 'keywords',content: 'blog, Angular' },\n    { name: 'description',content: '' },\n    { name: 'og:site_name', content: 'sushi karaage' },\n    { name: 'og:description', content: '' },\n    { name: 'og:title', content:  \"sushi karaage\" },\n    { name: 'og:url', content: 'https://sushi.karaage.tokyo/#/' },\n    { name: 'og:image', content: \"https://sushi.karaage.tokyo/assets/img/no-img.png\" },\n    { name: 'twitter:image', content: \"https://sushi.karaage.tokyo/assets/img/no-img.png\" },\n    { name: 'og:type', content: 'website' },\n    { name: 'og:locale', content: 'ja_JP' },\n    { name: 'twitter:card', content: 'summary_large_image' },\n    { name: 'twitter:site', content: '@sushi_karaage' },\n  ]\n\n  constructor(\n    private title:Title,\n    private meta:Meta,\n  ) { }\n\n  setTitle(title:string):void{\n    this.title.setTitle(title);\n  }\n\n  setMetaData(meta:MetaDefinition[]):void{\n    this.meta.addTags(meta);\n  }\n\n  getDefaultMetaDefinition():MetaDefinition[]{\n    return this.defaultMetaDefinition;\n  }\n\n  getCoalescenceMetaDefinition(meta:MetaDefinition[]):MetaDefinition[]{\n    return this.defaultMetaDefinition.map((v)=>{\n      let item = meta.filter(m =>v.name == m.name);\n      if(item.length > 0){\n        v = item[0];\n      }\n      return v;\n    });\n  }\n\n  removeMetaData():void{\n    this.defaultMetaDefinition.forEach((v)=>{\n      this.meta.removeTag(`name='${v.name}'`);\n    })\n  }\n}\n```\n\n### 使用例\n```javaScript\n@Component({\n  ...\n})\nexport class HogeComponent implements OnInit, OnDestroy {\n  constructor(\n    private titleMetaService:TitleMetaService\n  ) {}\n\n  ngOnInit(){\n    this.titleMetaService.setTitle(\"hoge-fuga\");\n    this.titleMetaService.setMetaData(\n      this.titleMetaService.getCoalescenceMetaDefinition([\n        { name: 'description', content: 'hoge hoge' },\n        { name: 'og:description', content: 'fuga fuga' },\n      ])\n    );\n  }\n\n  ngOnDestroy(){\n    this.titleMetaService.removeMetaData();\n  }\n  ...\n}\n"}