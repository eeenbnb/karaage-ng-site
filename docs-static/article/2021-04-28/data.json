{"2021-04-28":"# nuxt.jsを使ってみる\n<div class=\"info\">\n  <p class=\"info__date\">\n    2021/04/28\n  </p>\n  <div class=\"info__tags\">\n    <p class=\"info__tags__one\">Nuxt.js</p>\n  </div>\n</div>\n\nずっと `Angular` を使っていたけど他に勉強するべきだと思ってきた。  \n`Attribute bind` などのテンプレートシンタックスが近い `vue.js` でのフルスタックフレームワークでなんかやりたい。  \nなので `nuxt.js` を使う。\n\n## インストール\n\nhttps://ja.nuxtjs.org/docs/2.x/get-started/installation/  \n`create-nuxt-app` と 自分でセットアップする方法の2種類がある。  \n今回は `create-nuxt-app` を使う。\n\n```bash\nnpx create-nuxt-app karaage-nuxt\n# 色々聞かれるので設定をする\n...\n\nnpm run dev\n```\n\n## ディレクトリ構成\n\n```bash\nkaraage-nuxt\n├── assets          # assets\n├── components      # コンポーネント\n├── layouts         # レイアウト\n├── middleware      # ミドルウェア\n├── pages           # ページ\n├── plugins         # プラグイン\n├── static          # 静的ファイル\n├── store           # storeファイル (vuex)\n└── nuxt.config.js  # 設定ファイル\n```\n\n## cliツール\n\n```json\n...\n  \"scripts\": {\n    \"dev\": \"nuxt\",\n    \"build\": \"nuxt build\",\n    \"start\": \"nuxt start\",\n    \"generate\": \"nuxt generate\"\n  },\n...\n```\n\n起動\n```\nnpm run dev\n```\n\nもしくは\n```bash\nnpx nuxt\n```\n\nビルド\n\n```bash\nnpm run build # or > npx nuxt build\n```\n\n`generate` との違いは静的ホスティングするときに使用するかどうか。\n\n## pages\nhttps://ja.nuxtjs.org/docs/2.x/directory-structure/pages\n基本的にはvueのコンポーネントと同じ考えで良い（はず）。\nnuxt.js側でpageで必要なカスタム関数が追加されている。\n\n### asyncData\nasyncDataはdataで必要な値を非同期的に取得するためのメソッド。\n\n```typescript\nimport { Context } from '@nuxt/types';\nimport { Component, Vue } from \"nuxt-property-decorator\";\n\ninterface ItemParams{\n  [id:string]:string\n}\n\n@Component({\n  components: {}\n})\nexport default class PagesItem extends Vue {\n  itemId:string = \"\"\n\n  get getId() {\n    return this.itemId;\n  };\n\n  async asyncData(context:Context):Promise<any> {\n    let { params } = context;\n    return {\n      itemId:(params as ItemParams).id\n    }\n  }\n}\n```\n\n### fetch\n`fetch` は `asyncData` と違い毎回走るのではなく、  \nサーバーサイドではレンダリング時  \nクライアントサイドでは遷移時\nに走る（SPAのみの場合 `asyncData` とあんまり変わらないのでは…）\n\n### head\n単純に `head` に挿入したい `meta` などを記述する。\nhttps://ja.nuxtjs.org/docs/2.x/features/meta-tags-seo\n\n### プロパティ\n#### layout\n使用するlayoutの設定\n\n#### loading\nhttps://ja.nuxtjs.org/docs/2.x/directory-structure/pages#loading-%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3\n\n#### transition\nページ遷移時のアニメーションの設定\n\n#### scrollToTop\nページの一番上にスクロールさせるか\n\n#### watchQuery\nwatchしたいQueryPramsを設定する\n\n#### middleware\n使うmiddlewareを設定する\n\n## 要調査\n\n- `@Angular/cli` のような `ng g module hoge` みたいなのがない\n  - エディター側のプラグインで対応 [link](https://qiita.com/mrmr/items/f6927eb2fe5aa13a2f90)\n  - https://sushi.karaage.tokyo/article/2021-04-28_2\n"}